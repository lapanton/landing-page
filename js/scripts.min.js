
/* Main scripts file. */

window.project = {
    Behavior: {},
    Settings: {},
    Functions: {},
    runBehaviors: function () {
    }
};
jQuery.fn.extend({
    makeClass: function (className) {
        for (var i = 0, len = this.length; i < len; i++) {
            this.removeClass(className);
            this.addClass(className);
        }
    }
});

/**
 * Default (base) behavior
 */
project.Behavior.default = function (context) {
    jQuery('html').removeClass('no-js');
}

/**
 * Execute all Behaviors.
 */
project.runBehaviors = function (context) {
    if (typeof context == 'undefined') context = document;
    var behaviors = Object.keys(project.Behavior);
    for (var i = 0, len = behaviors.length; i < len; i++) {
        project.Behavior[behaviors[i]](context);
    }
}
/**
 * Run All behaviors on document ready.
 */
jQuery(document).ready(function () {
    project.runBehaviors(document);
});

/**
 * Copy input text to clipboard
 */
function select_all(obj) {
    var text_val = eval(obj);
    text_val.focus();
    text_val.select();
    if (!document.all) return; // IE only
    r = text_val.createTextRange();
    r.execCommand('copy');
}



project.Behavior.ratesSlider = function (context) {
    $(".owl-carousel").owlCarousel({
        nav: false,
        loop: true,
        slideBy: 3,
        items: 1,
        navText: ['<i class="fa fa-angle-right"></i>', '<i class="fa fa-angle-left"></i>'],
        smartSpeed: 1000,
        responsive: {
            991: {
                items: 3,
                nav: true
            }
        }
    })
}

project.Behavior.modalSlider = function (context) {
    $(".modal-slider").owlCarousel({
        nav: false,
        loop: true,
        slideBy: 3,
        items: 1,
        navText: ['<i class="fa fa-angle-right"></i>', '<i class="fa fa-angle-left"></i>'],
        smartSpeed: 1000,
        responsive: {
            991: {
                items: 3,
                nav: true
            }
        }
    })
}

project.Behavior.online = function (context) {
    $(".online-block").delay(4000).fadeIn(600);
    $(".online-block").delay(6000).fadeOut(600);

}

project.Behavior.randomNumber = function (context) {
    var link = document.getElementById('getNumber');
    window.onload = getNumber;

    function getNumber() {
        var minNumber = 3;
        var maxNumber = 21;
        var randomnumber = Math.floor(Math.random() * (maxNumber + 1) + minNumber);
        $('#result').html(randomnumber);
        return false;
    }

}



project.Behavior.scrolToId = function (context) {
    $("a[href*='#']").mPageScroll2id();
}

project.Behavior.formPar = function (context) {
    $('#setVal').on('click', function () {
        var form = $('.top-form-name').not('#form-result-name');
        var formPhone = $('.top-form-phone').not('#form-result-phone');
        var valsName = form.map(function () {
            var value = $.trim(this.value)
            return value ? value : undefined;
        }).get();

        var valsPhone = formPhone.map(function () {
            var value = $.trim(this.value)
            return value ? value : undefined;
        }).get();



        $('#form-result-name').val(valsName.join(', '));
        $('#form-result-phone').val(valsPhone.join(', '))
    });
}


project.Behavior.modal = function (context) {

    var inst = $('[data-remodal-id=modal]').remodal();

    $(window).scroll(function(event) {
        if ($(document).height() <= ($(window).height() + $(window).scrollTop())) {
            inst.open();
            $( this ).off( event );
        }

    });


}



project.Behavior.countTimer = function (context) {
        $("#CountDownTimer").TimeCircles({ time: {
            Days: { show: false },
            Hours: {text: "Дней"},
            Minutes: {text: "Минут"},
            Seconds: {text: "Секунд"}

        }});
    // $("#CountDownTimer").TimeCircles({
    //     "animation": "smooth",
    //     "bg_width": 0.7,
    //     "fg_width": 0.013333333333333334,
    //     "circle_bg_color": "#ffffff",
    //     "time": {
    //         "Days": {
    //             "text": "Days",
    //             "color": "#5C6BC0",
    //             "show": true
    //         },
    //         "Hours": {
    //             "text": "Hours",
    //             "color": "#FFCA28",
    //             "show": true
    //         },
    //         "Minutes": {
    //             "text": "Minutes",
    //             "color": "#66BB6A",
    //             "show": true
    //         },
    //         "Seconds": {
    //             "text": "Seconds",
    //             "color": "#EF5350",
    //             "show": true
    //         }
    //     }
    // });

        $(window).resize(function() {
            if ($(window).width() < 540) {
                setTimeout(function () {
                    $("#CountDownTimer").TimeCircles().rebuild();
                }, 300);
            }

        });

}


